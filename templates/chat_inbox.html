<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inbox</title>
  <style>
    body { font-family: Arial; margin: 0; padding: 1rem; background: #f5f5f5; }
    .inbox-container { max-width: 600px; margin: auto; background: #fff; padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    h2 { margin-top: 0; }
    .conversation { display: flex; justify-content: space-between; padding: 0.75rem; border-bottom: 1px solid #eee; cursor: pointer; }
    .conversation:hover { background: #f9f9f9; }
    .info { overflow: hidden; }
    .name { font-weight: bold; margin: 0; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }
    .snippet { margin: 0.25rem 0; color: #555; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }
    .timestamp { color: #999; font-size: 0.85rem; flex-shrink: 0; margin-left: 1rem; white-space: nowrap; }
  </style>
</head>
<body>
  <div class="inbox-container">
    <h2>Your Conversations</h2>
    {% if conversations %}
      {% for convo in conversations %}
        <div class="conversation"
             onclick="location.href='{{ url_for('chat', username=convo.user) }}'">
          <div class="info">
            <p class="name">{{ convo.user }}</p>
            <p class="snippet">{{ convo.last_message }}</p>
          </div>
          <div class="timestamp">{{ convo.timestamp }}</div>
        </div>
      {% endfor %}
    {% else %}
      <p>No conversations yet. Start one by searching for friends.</p>
    {% endif %}
  </div>
</body>
</html>
